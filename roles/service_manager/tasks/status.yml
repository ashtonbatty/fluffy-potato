---
- name: "Check service status - {{ service_name }}"
  ansible.builtin.command: "{{ service_script }} status"
  register: status_result
  failed_when: false
  changed_when: false

- name: "Display service status - {{ service_name }}"
  ansible.builtin.debug:
    msg:
      - "Service: {{ service_name }}"
      - "Status output: {{ status_result.stdout }}"
      - "Return code: {{ status_result.rc }}"
      - "Running: {{ 'Yes' if running_check_string in status_result.stdout else 'No' }}"
      - "Stopped: {{ 'Yes' if stopped_check_string in status_result.stdout else 'No' }}"
